<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>타입스크립트 알아보기 | sso214&#39;s TIL</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Today I Learned">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.0a1e057f.css" as="style"><link rel="preload" href="/TIL/assets/js/app.2d66ab00.js" as="script"><link rel="preload" href="/TIL/assets/js/2.5e3b8e3c.js" as="script"><link rel="preload" href="/TIL/assets/js/123.7277c315.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.fd93f209.js"><link rel="prefetch" href="/TIL/assets/js/100.aeb1a7a8.js"><link rel="prefetch" href="/TIL/assets/js/101.a0533b10.js"><link rel="prefetch" href="/TIL/assets/js/102.91e3bbd1.js"><link rel="prefetch" href="/TIL/assets/js/103.94bdec44.js"><link rel="prefetch" href="/TIL/assets/js/104.59ed2fb5.js"><link rel="prefetch" href="/TIL/assets/js/105.a670a608.js"><link rel="prefetch" href="/TIL/assets/js/106.a434600e.js"><link rel="prefetch" href="/TIL/assets/js/107.59a140c2.js"><link rel="prefetch" href="/TIL/assets/js/108.ab391b9e.js"><link rel="prefetch" href="/TIL/assets/js/109.b696ee94.js"><link rel="prefetch" href="/TIL/assets/js/11.1dabe5ed.js"><link rel="prefetch" href="/TIL/assets/js/110.01559fa4.js"><link rel="prefetch" href="/TIL/assets/js/111.b471510a.js"><link rel="prefetch" href="/TIL/assets/js/112.09e1399f.js"><link rel="prefetch" href="/TIL/assets/js/113.4e7018d1.js"><link rel="prefetch" href="/TIL/assets/js/114.21b6f9ab.js"><link rel="prefetch" href="/TIL/assets/js/115.1915d330.js"><link rel="prefetch" href="/TIL/assets/js/116.980f3ad7.js"><link rel="prefetch" href="/TIL/assets/js/117.c255c74c.js"><link rel="prefetch" href="/TIL/assets/js/118.a3cd9684.js"><link rel="prefetch" href="/TIL/assets/js/119.fc7a137b.js"><link rel="prefetch" href="/TIL/assets/js/12.bfc00192.js"><link rel="prefetch" href="/TIL/assets/js/120.b5027dff.js"><link rel="prefetch" href="/TIL/assets/js/121.f6994a77.js"><link rel="prefetch" href="/TIL/assets/js/122.70b88510.js"><link rel="prefetch" href="/TIL/assets/js/124.f373a65b.js"><link rel="prefetch" href="/TIL/assets/js/125.0be19ecf.js"><link rel="prefetch" href="/TIL/assets/js/126.c82a57a6.js"><link rel="prefetch" href="/TIL/assets/js/127.64133d3a.js"><link rel="prefetch" href="/TIL/assets/js/128.f82a2db0.js"><link rel="prefetch" href="/TIL/assets/js/129.a6572a07.js"><link rel="prefetch" href="/TIL/assets/js/13.c7e97044.js"><link rel="prefetch" href="/TIL/assets/js/14.2b4e1db1.js"><link rel="prefetch" href="/TIL/assets/js/15.fe11e0f2.js"><link rel="prefetch" href="/TIL/assets/js/16.7a83084d.js"><link rel="prefetch" href="/TIL/assets/js/17.2a9ccd78.js"><link rel="prefetch" href="/TIL/assets/js/18.5efe031e.js"><link rel="prefetch" href="/TIL/assets/js/19.3565deac.js"><link rel="prefetch" href="/TIL/assets/js/20.1212a749.js"><link rel="prefetch" href="/TIL/assets/js/21.f89901e5.js"><link rel="prefetch" href="/TIL/assets/js/22.4bd24487.js"><link rel="prefetch" href="/TIL/assets/js/23.20ee24c6.js"><link rel="prefetch" href="/TIL/assets/js/24.8bdc8ccd.js"><link rel="prefetch" href="/TIL/assets/js/25.c0eb55ec.js"><link rel="prefetch" href="/TIL/assets/js/26.6b3aec63.js"><link rel="prefetch" href="/TIL/assets/js/27.a0be0573.js"><link rel="prefetch" href="/TIL/assets/js/28.bce3c0c7.js"><link rel="prefetch" href="/TIL/assets/js/29.78c8c53f.js"><link rel="prefetch" href="/TIL/assets/js/3.3866a126.js"><link rel="prefetch" href="/TIL/assets/js/30.0397d79d.js"><link rel="prefetch" href="/TIL/assets/js/31.d6242e35.js"><link rel="prefetch" href="/TIL/assets/js/32.e098946c.js"><link rel="prefetch" href="/TIL/assets/js/33.ae658251.js"><link rel="prefetch" href="/TIL/assets/js/34.a12a894d.js"><link rel="prefetch" href="/TIL/assets/js/35.66d90611.js"><link rel="prefetch" href="/TIL/assets/js/36.9bed69be.js"><link rel="prefetch" href="/TIL/assets/js/37.88582c54.js"><link rel="prefetch" href="/TIL/assets/js/38.e19ddc62.js"><link rel="prefetch" href="/TIL/assets/js/39.361bb521.js"><link rel="prefetch" href="/TIL/assets/js/4.fa83c5fa.js"><link rel="prefetch" href="/TIL/assets/js/40.8d1b9a96.js"><link rel="prefetch" href="/TIL/assets/js/41.f46a1685.js"><link rel="prefetch" href="/TIL/assets/js/42.9ba8c124.js"><link rel="prefetch" href="/TIL/assets/js/43.485c0f89.js"><link rel="prefetch" href="/TIL/assets/js/44.8237af5f.js"><link rel="prefetch" href="/TIL/assets/js/45.5a0cd42e.js"><link rel="prefetch" href="/TIL/assets/js/46.20b5bc42.js"><link rel="prefetch" href="/TIL/assets/js/47.eac5fd8a.js"><link rel="prefetch" href="/TIL/assets/js/48.75fe3a69.js"><link rel="prefetch" href="/TIL/assets/js/49.e6dab4a0.js"><link rel="prefetch" href="/TIL/assets/js/5.01799cc0.js"><link rel="prefetch" href="/TIL/assets/js/50.9aead8f6.js"><link rel="prefetch" href="/TIL/assets/js/51.bd5097d5.js"><link rel="prefetch" href="/TIL/assets/js/52.8ffa5024.js"><link rel="prefetch" href="/TIL/assets/js/53.1f5748c7.js"><link rel="prefetch" href="/TIL/assets/js/54.53a721ad.js"><link rel="prefetch" href="/TIL/assets/js/55.860ee171.js"><link rel="prefetch" href="/TIL/assets/js/56.c6ba3b92.js"><link rel="prefetch" href="/TIL/assets/js/57.14946c9c.js"><link rel="prefetch" href="/TIL/assets/js/58.53e3f045.js"><link rel="prefetch" href="/TIL/assets/js/59.febd9f48.js"><link rel="prefetch" href="/TIL/assets/js/6.852d803a.js"><link rel="prefetch" href="/TIL/assets/js/60.783d9c99.js"><link rel="prefetch" href="/TIL/assets/js/61.5b166cb9.js"><link rel="prefetch" href="/TIL/assets/js/62.df2cd4b8.js"><link rel="prefetch" href="/TIL/assets/js/63.a30e2eb2.js"><link rel="prefetch" href="/TIL/assets/js/64.cd8173ac.js"><link rel="prefetch" href="/TIL/assets/js/65.6c161d3e.js"><link rel="prefetch" href="/TIL/assets/js/66.aa6492d4.js"><link rel="prefetch" href="/TIL/assets/js/67.177bd55a.js"><link rel="prefetch" href="/TIL/assets/js/68.d94beaf8.js"><link rel="prefetch" href="/TIL/assets/js/69.73b32b36.js"><link rel="prefetch" href="/TIL/assets/js/7.9af980e7.js"><link rel="prefetch" href="/TIL/assets/js/70.a59302ea.js"><link rel="prefetch" href="/TIL/assets/js/71.0a33fc06.js"><link rel="prefetch" href="/TIL/assets/js/72.9eaa2956.js"><link rel="prefetch" href="/TIL/assets/js/73.c82b0d4a.js"><link rel="prefetch" href="/TIL/assets/js/74.c473463b.js"><link rel="prefetch" href="/TIL/assets/js/75.c1a54599.js"><link rel="prefetch" href="/TIL/assets/js/76.25fb58ae.js"><link rel="prefetch" href="/TIL/assets/js/77.e3c10501.js"><link rel="prefetch" href="/TIL/assets/js/78.92c0388c.js"><link rel="prefetch" href="/TIL/assets/js/79.1bfc1741.js"><link rel="prefetch" href="/TIL/assets/js/8.2cb1556f.js"><link rel="prefetch" href="/TIL/assets/js/80.88650c6c.js"><link rel="prefetch" href="/TIL/assets/js/81.12d61cc8.js"><link rel="prefetch" href="/TIL/assets/js/82.5e75256c.js"><link rel="prefetch" href="/TIL/assets/js/83.89d9a6cd.js"><link rel="prefetch" href="/TIL/assets/js/84.45a288b8.js"><link rel="prefetch" href="/TIL/assets/js/85.b097c70c.js"><link rel="prefetch" href="/TIL/assets/js/86.15ed7e54.js"><link rel="prefetch" href="/TIL/assets/js/87.f5a1007e.js"><link rel="prefetch" href="/TIL/assets/js/88.2b44cc13.js"><link rel="prefetch" href="/TIL/assets/js/89.41b684dc.js"><link rel="prefetch" href="/TIL/assets/js/9.89e644e4.js"><link rel="prefetch" href="/TIL/assets/js/90.6ae816a6.js"><link rel="prefetch" href="/TIL/assets/js/91.fec85b13.js"><link rel="prefetch" href="/TIL/assets/js/92.d82766cd.js"><link rel="prefetch" href="/TIL/assets/js/93.dd54bb63.js"><link rel="prefetch" href="/TIL/assets/js/94.7994abfa.js"><link rel="prefetch" href="/TIL/assets/js/95.f0259cd4.js"><link rel="prefetch" href="/TIL/assets/js/96.3f4b5cc0.js"><link rel="prefetch" href="/TIL/assets/js/97.bca7515f.js"><link rel="prefetch" href="/TIL/assets/js/98.f271fd38.js"><link rel="prefetch" href="/TIL/assets/js/99.d4610343.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.0a1e057f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">sso214's TIL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/TIL/study/" class="nav-link">
  Study
</a></div><div class="nav-item"><a href="/TIL/log/" class="nav-link">
  Log
</a></div><div class="nav-item"><a href="/TIL/memo/" class="nav-link">
  Memo
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="sso214" class="dropdown-title"><span class="title">sso214</span> <span class="arrow down"></span></button> <button type="button" aria-label="sso214" class="mobile-dropdown-title"><span class="title">sso214</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/TIL/info/" class="nav-link">
  Info
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/sso214" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/TIL/study/" class="nav-link">
  Study
</a></div><div class="nav-item"><a href="/TIL/log/" class="nav-link">
  Log
</a></div><div class="nav-item"><a href="/TIL/memo/" class="nav-link">
  Memo
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="sso214" class="dropdown-title"><span class="title">sso214</span> <span class="arrow down"></span></button> <button type="button" aria-label="sso214" class="mobile-dropdown-title"><span class="title">sso214</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/TIL/info/" class="nav-link">
  Info
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/sso214" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/TIL/Study/" aria-current="page" class="sidebar-link">Study</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Django</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Etc</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ReactNative</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>css</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="타입스크립트-알아보기"><a href="#타입스크립트-알아보기" class="header-anchor">#</a> 타입스크립트 알아보기</h1> <p>2023.01.13</p> <p>TS는 사용 방식 면에서 독특한 언어.<br>
다른 고수준 언어인 JS로 컴파일 되며, 실행도 TS가 아닌 JS로 이루어짐.<br>
따라 타입스크립트와 자바스크립트의 관계는 필연적으로 밀접한 관계.</p> <h2 id="_1-타입스크립트와-자바스크립트의-관계-이해하기"><a href="#_1-타입스크립트와-자바스크립트의-관계-이해하기" class="header-anchor">#</a> 1. 타입스크립트와 자바스크립트의 관계 이해하기</h2> <h4 id="타입스크립트는-자바스크립트의-상위-집합"><a href="#타입스크립트는-자바스크립트의-상위-집합" class="header-anchor">#</a> 타입스크립트는 자바스크립트의 상위 집합</h4> <ul><li>타입이 정의된, JS의 상위 집합 (superset)</li> <li>모든 JS 프로그램 = 이미 TS 프로그램<br>
TS는 별도의 문법을 가지고 있으므로 일반적으로는 유효한 JS 프로그램은 아님</li> <li>서로 다른 확장자(js(.jsx) / .ts(.tsx))를 사용하지만<br>
TS는 JS의 상위 집합이기 때문에 .js 파일에 있는 코드는 이미 TS라고 할 수 있음<br>
따라 JS -&gt; TS 마이그레이션 쉬움 (일부분만 적용 가능)</li></ul> <h4 id="ts는-js-런타임-동작을-모델링하는-타입-시스템을-가지고-있음"><a href="#ts는-js-런타임-동작을-모델링하는-타입-시스템을-가지고-있음" class="header-anchor">#</a> TS는 JS 런타임 동작을 모델링하는 타입 시스템을 가지고 있음</h4> <ul><li>때문에 런타임 오류를 발생시키는 코드를 찾아내려고 함</li> <li>but, 모든 오류를 찾아내리라 기대하면 안됨.<br>
타입 체커를 통과하면서도 런타임 오류를 발생시키는 코드는 존재할 수 있음</li></ul> <h4 id="ts-타입-시스템은-전반적으로-js의-동작을-모델링함"><a href="#ts-타입-시스템은-전반적으로-js의-동작을-모델링함" class="header-anchor">#</a> TS 타입 시스템은 전반적으로 JS의 동작을 모델링함</h4> <ul><li>다만 잘못된 매개변수 개수로 함수를 호출하는 경우처럼,<br>
JS에서는 허용되지만 TS에서는 문제가 되는 경우도 있음</li> <li>이런 문법의 엄격함은 취향의 차이이며 필요성에 맞게 선택하면 됨</li></ul> <h2 id="_2-타입스크립트-설정-이해하기"><a href="#_2-타입스크립트-설정-이해하기" class="header-anchor">#</a> 2. 타입스크립트 설정 이해하기</h2> <h4 id="ts-컴파일러의-설정"><a href="#ts-컴파일러의-설정" class="header-anchor">#</a> TS 컴파일러의 설정</h4> <ul><li>매우 많은 설정을 할 수 있음 (거의 100개 정도)</li> <li>해당 설정들은 커맨드 라인 or tsconfig.json 설정 파일에서 사용 가능함</li> <li>tsconfig.json 설정 파일 사용을 권장함<br>
협업 시 가이드가 되며, tsc --init만 실행하면 설정 파일이 간단히 생성되기 때문</li> <li>TS의 설정들은 어디서 소스 파일을 찾을지,<br>
어떤 종류의 출력을 생성할지 제어하는 내용부터<br>
언어 자체의 핵심 요소들을 제어하는 설정까지 있음<br>
(대부분의 언어에서는 허용치 않는 고수준 설계의 설정)<br>
=&gt; 어떻게 설정하느냐에 따라 완전히 다른 언어처럼 느껴질 수 있음</li></ul> <h4 id="noimplicitany-strictnullchecks"><a href="#noimplicitany-strictnullchecks" class="header-anchor">#</a> noImplicitAny, strictNullChecks</h4> <p>설정을 제대로 사용하려면 noImplicitAny, strictNullChecks를 이해해야 함<br>
이 외의 다른 설정들을 모두 엄격히 체크하고 싶다면 strict 설정 사용하면 됨.<br>
(사용 시 대부분의 오류를 잡아냄)</p> <ul><li><p><strong>noImplicitAny</strong></p> <ul><li>변수들이 미리 정의된 타입을 가져야하는지 여부 제어</li> <li>해제 시 타입들이 any로 간주됨 (=암시적 any)<br>
즉, TS의 타입체커가 무력해짐</li> <li>TS는 타입 정보를 가질 때 가장 효과적이므로 되도록이면 설정 권장함<br>
(문제 발견하기가 수월해지고, 코드 가독성이 좋아지며, 개발자의 생산성 향상됨)
<br><br></li></ul></li> <li><p><strong>strictNullChecks</strong></p> <ul><li>null과 undefined가 모든 타입에서 허용되는지 확인하는 설정</li> <li>null과 undefined 관련된 오류를 잡아내는데 효율적이지만 코드 작성이 까다로워짐</li> <li>TS가 처음이거나 마이그레이션하는 경우 제외하고 사용을 추천</li> <li>strictNullChecks를 설정하려면 noImplicitAny를 먼저 설정해야 함</li> <li>'undefined는 객체가 아닙니다.' 같은 런타임 오류를 방지하기 위해서는 설정하는 것이 좋음</li> <li>프로젝트가 거대해질수록 설정 변경은 어려워지므로 가능한 초반에 설정하는 것을 권장</li></ul></li></ul> <h2 id="_3-코드-생성과-타입이-관계없음을-이해하기"><a href="#_3-코드-생성과-타입이-관계없음을-이해하기" class="header-anchor">#</a> 3. 코드 생성과 타입이 관계없음을 이해하기</h2> <p>TS 컴파일러는 두 가지 역할을 수행함</p> <ul><li>최신 TS/JS를 브라우저에서 동작할 수 있도록 구버전의 JS로 트랜스파일(번역 + 컴파일)함</li> <li>코드의 타입 오류를 체크함</li></ul> <p>위의 두 가지 역할은 서로 완벽히 독립적.<br>
즉, TS가 JS로 변환될 때 코드 내의 타입에는 영향을 주지 않으며,<br>
JS의 실행 시점에도 타입은 영향을 미치지 않음</p> <h4 id="타입-오류가-있는-코드도-컴파일이-가능하다"><a href="#타입-오류가-있는-코드도-컴파일이-가능하다" class="header-anchor">#</a> <strong>타입 오류가 있는 코드도 컴파일이 가능하다.</strong></h4> <ul><li>컴파일은 타입 체크와 독립적으로 동작하기 때문에,<br>
타입 오류가 있는 코드도 컴파일(코드 생성)이 가능함</li> <li>타입스크립트 오류는 C나 Java 같은 언어들의 경고와 비슷함<br>
문제가 될 만한 부분을 알려주지만, 빌드를 멈추지는 않음<br>
따라 문제가 된 오류를 수정하지 않더라도 TS는 컴파일된 산출물을 생성하기 때문에,<br>
애플리케이션의 다른 부분을 테스트할 수 있음</li> <li>만약 오류가 있을 때 컴파일하지 않으려면 tsconfig.json에<br>
noEmitOnError를 설정하거나 빌드 도구에 동일하게 적용</li></ul> <h4 id="런타임에는-타입-체크가-불가능하다"><a href="#런타임에는-타입-체크가-불가능하다" class="header-anchor">#</a> <strong>런타임에는 타입 체크가 불가능하다</strong></h4> <ul><li>TS의 타입은 제거 가능(erasable)하며,<br>
실제로 JS로 컴파일되는 과정에서 모든 인터페이스, 타입, 타입 구문은 그냥 제거됨</li> <li>instanceof 체크는 런타임에 일어나는데 타입스크립트의 타입은 런타임 전에 제거되므로<br>
instanceof 대상이 TS의 타입이면 런타임 시점에 아무런 역할을 할 수 없음<div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Square</span> <span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Rectangle</span> <span class="token keyword">extends</span> <span class="token class-name">Square</span> <span class="token punctuation">{</span>
    height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Shape</span> <span class="token operator">=</span> Square <span class="token operator">|</span> Rectangle<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">calculateArea</span><span class="token punctuation">(</span>shape<span class="token operator">:</span> Shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>shape <span class="token keyword">instanceof</span> <span class="token class-name">Rectangle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> shape<span class="token punctuation">.</span>width <span class="token operator">*</span> shape<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> shape<span class="token punctuation">.</span>width <span class="token operator">*</span> shape<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>=&gt;<br>
이를 해결하려면 런타임에 타입 정보를 유지하는 방법이 필요함<br>
속성 체크는 런타임에 접근 가능한 값에만 관련되지만,<br>
타입 체커 역시 shape 타입을 Rectangle로 보정해주기 때문에 오류가 사라짐<div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">calculateArea</span><span class="token punctuation">(</span>shape<span class="token operator">:</span> Shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'height'</span> <span class="token keyword">in</span> shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> shape<span class="token punctuation">.</span>width <span class="token operator">*</span> shape<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> shape<span class="token punctuation">.</span>width <span class="token operator">*</span> shape<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>=&gt;<br>
타입 정보를 유지하는 또 다른 방법으로는<br>
런타임에 접근 가능한 타입 정보를 명시적으로 저장하는 태그 기법이 있음<br>
여기서 Shape 타입은 '태그된 유니온'의 한 예시.<br>
이 기법은 런타임에 타입 정보를 손쉽게 유지할 수 있기 때문에, TS에서 흔하게 볼 수 있음<div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Square</span> <span class="token punctuation">{</span>
    kind<span class="token operator">:</span> <span class="token string">'square'</span><span class="token punctuation">,</span>
    width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
    kind<span class="token operator">:</span> <span class="token string">'rectangle'</span>
    height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Shape</span> <span class="token operator">=</span> Square <span class="token operator">|</span> Rectangle<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">calculateArea</span><span class="token punctuation">(</span>shape<span class="token operator">:</span> Shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>shape<span class="token punctuation">.</span>kind <span class="token operator">===</span> <span class="token string">'rectangle'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> shape<span class="token punctuation">.</span>width <span class="token operator">*</span> shape<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> shape<span class="token punctuation">.</span>width <span class="token operator">*</span> shape<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>=&gt;<br>
타입(런타임 접근 불가)과 값(런타입 접근 가능)을 둘 다 사용하는 기법도 있음<br>
타입을 클래스로 만드는 것. (Square과 Rectangle을 클래스로)<br>
인터페이스는 타입으로만 사용 가능하지만, Rectangle을 클래스로 선언하면<br>
타입과 값으로 모두 사용할 수 있으므로 오류가 없음<div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Square</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Rectangle</span> <span class="token keyword">extends</span> <span class="token class-name">Square</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> width<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token keyword">public</span> height<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Shape</span> <span class="token operator">=</span> Square <span class="token operator">|</span> Rectangle<span class="token punctuation">;</span> <span class="token comment">//Rectangle이 타입으로 참조됨</span>

<span class="token keyword">function</span> <span class="token function">calculateArea</span><span class="token punctuation">(</span>shape<span class="token operator">:</span> Shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>shape <span class="token keyword">instanceof</span> <span class="token class-name">Rectangle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//Rectangle이 값으로 참조됨</span>
        <span class="token keyword">return</span> shape<span class="token punctuation">.</span>width <span class="token operator">*</span> shape<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> shape<span class="token punctuation">.</span>width <span class="token operator">*</span> shape<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h4 id="타입-연산은-런타임에-영향을-주지-않는다"><a href="#타입-연산은-런타임에-영향을-주지-않는다" class="header-anchor">#</a> <strong>타입 연산은 런타임에 영향을 주지 않는다</strong></h4> <p>string or number 타입인 값을 항상 number로 정제하는 경우,<br>
아래의 코드는 타입 체커를 통과하지만 잘못된 방법을 사용함</p> <p>as number는 타입 연산이고 런타임 동작에<br>
아무런 영향을 미치지 않기 때문에 코드에 아무런 정제 과정이 없음</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">//작성한 TS 코드</span>
<span class="token keyword">function</span> <span class="token function">asNumber</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> val <span class="token keyword">as</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//변환된 JS 코드</span>
<span class="token keyword">function</span> <span class="token function">asNumber</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>값을 정제하기 위해서는 런타임의 타입을 체크해야 하고,<br>
JS 연산을 통해 변환을 수행해야 함</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">asNumber</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'string'</span> <span class="token operator">?</span> <span class="token function">Number</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">:</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="런타임-타입은-선언된-타입과-다를-수-있다"><a href="#런타임-타입은-선언된-타입과-다를-수-있다" class="header-anchor">#</a> <strong>런타임 타입은 선언된 타입과 다를 수 있다</strong></h4> <p>TS의 타입은 런타임에 제거됨.<br>
JS일 경우 의도와 다르게 다른 타입으로 함수를 호출할 수 있음</p> <p>순수 TS에서도 비동기로 API를 호출할 경우,<br>
반환받는 데이터 값을 잘못 파악했다던가 API가 변경된 등의 이유로<br>
기존에 정의한 타입과는 다른 데이터를 받을 수 있음</p> <p>=&gt;<br>
즉, TS에서는 런타임 타입과 선언된 타입이 맞지 않을 수 있음<br>
타입이 달라지는 혼란스러운 상황은 가능한 피해야 하지만,<br>
선언된 타입이 언제든지 달라질 수 있다는 것을 명심해야 함</p> <h4 id="타입스크립트-타입으로는-함수를-오버로드-할-수-없다"><a href="#타입스크립트-타입으로는-함수를-오버로드-할-수-없다" class="header-anchor">#</a> <strong>타입스크립트 타입으로는 함수를 오버로드 할 수 없다</strong></h4> <ul><li>C++ 같은 언어는 동일한 이름에 매개변수만 다른 여러 버전의 함수를 허용함 (=함수 오버로딩)</li> <li>But, TS에서는 타입과 런타임의 동작이 무관하기 때문에 함수 오버로딩이 불가능함</li> <li>TS가 지원하는 함수 오버로딩 기능은 온전히 타입 수준에서만 동작.<br>
즉, 하나의 함수에 대해 여러개 선언문을 작성할 수 있지만 구현체는 오직 하나 뿐.<div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>위의 두 개의 add 선언문은 타입 정보를 제공할 뿐,<br>
두 선언문은 TS가 JS로 변환되면서 제거되며 구현체만 남게 됨</li></ul> <h4 id="타입스크립트-타입은-런타임-성능에-영향을-주지-않는다"><a href="#타입스크립트-타입은-런타임-성능에-영향을-주지-않는다" class="header-anchor">#</a> <strong>타입스크립트 타입은 런타임 성능에 영향을 주지 않는다</strong></h4> <p>타입과 타입 연산자는 JS 변환 시점에 제거되기 떄문에<br>
런타임 성능에 아무 영향을 주지 않음<br>
즉, TS의 정적 타입은 실제로 비용이 전혀 들지 않음</p> <ul><li><strong>'런타임' 오버헤드가 없는 대신, TS 컴파일러는 '빌드타임' 오버헤드 존재</strong> <ul><li>TS 팀은 컴파일러 성능을 매우 중요하게 생각했으므로<br>
컴파일은 일반적으로 상당히 빠른 편이며, 특히 증분 빌드 시에 효율적임</li> <li>오버헤드가 커지는 경우, 빌드 도구에서<br>
'transpile only'를 설정해 타입 체크를 건너뛸 수 있음</li></ul></li> <li><strong>어떤 경우든 호환성과 성능 사이의 선택은 타입과는 무관함</strong> <ul><li>TS가 컴파일하는 코드는 오래된 런타임 환경을 지원하기 위해<br>
호환성을 높이고 성능 오버헤드를 감안할지,<br>
호환성을 포기하고 성능 중심의 네이티브 구현체를 우선할지 선택할 수 있음</li> <li>어떤 경우든 호환성과 성능 사이의 선택은<br>
컴파일 타깃과 언어 레벨의 문제이기 때문에 타입과는 무관함</li></ul></li></ul> <h2 id="_4-구조적-타이핑에-익숙해지기"><a href="#_4-구조적-타이핑에-익숙해지기" class="header-anchor">#</a> 4. 구조적 타이핑에 익숙해지기</h2> <ul><li>JS는 본질적으로 덕 타이핑 기반.<br>
어떤 함수의 매개변수 값이 모두 제대로 주어진다면,<br>
값이 어떻게 만들어졌는지 신경쓰지 않고 사용
<ul><li>덕 타이핑 :<br>
객체가 어떤 타입에 부합하는 변수와 메서드를 가질 경우<br>
객체를 해당 타입에 속하는 것으로 간주하는 방식
<br><br></li></ul></li> <li>TS는 이런 동작을 그대로 모델링하기 위해 구조적 타이핑을 사용.<br>
어떤 인터페이스에 할당 가능한 값이라면 타입 선언에 명시적으로 나열된 속성들을 가지고 있음<br>
즉, 타입은 <strong>봉인되어 있지 않음</strong> <ul><li>두 타입의 관계를 선언하지 않았음에도 두 타입의 구조가 호환된다면<br>
동일 함수를 같이 사용하는 등의 동작 가능</li> <li>구조적 타이핑 떄문에 문제가 발생하기도 함<br>
함수 작성 시 호출에 사용되는 매개변수의 속성들이<br>
매개변수의 타입에 선언된 속성만을 가질거라 생각하기 쉬움. (=봉인된 타입)</li> <li>TS 타입 시스템에서는 봉인된 타입을 표현할 수 없음<br>
타입이 '열려 있기 때문' (=타입의 확장에 열려있다는 의미)<br>
즉, 타입에 선언된 속성 외에 임의의 속성을 추가하더라도 오류가 발생하지 않음
<br><br></li></ul></li> <li>클래스 역시 구조적 타이핑 규칙을 따름.<br>
(클래스의 인스턴스가 예상과 다를 수 있음)
<br><br></li> <li>구조적 타이핑을 사용하면 유닛 테스팅을 쉽게 적용할 수 있으며,<br>
라이브러리 간의 의존성을 완벽히 분리할 수 있다는 장점이 있음</li></ul> <h2 id="_5-any-타입-지정하기"><a href="#_5-any-타입-지정하기" class="header-anchor">#</a> 5. any 타입 지정하기</h2> <p>TS의 타입 시스템은 점진적이고 선택적.<br>
이 기능들의 핵심은 any 타입</p> <ul><li>점진적 : 코드에 타입을 조금씩 추가할 수 있음</li> <li>선택적 : 언제든 타입 체커를 해제할 수 있음</li></ul> <p>하지만 any를 사용하면 TS의 수많은 장점을 누릴 수 없음<br>
타입 체커와 TS 언어 서비스를 무력화시켜버림.<br>
또한 문제 원인을 감추며, 개발 경험을 나쁘게 하고, 타입 시스템의 신뢰도를 떨어뜨림<br>
따라 최대한 사용을 피하도록 해야 함</p> <ul><li><strong>any 타입에는 타입 안정성이 없다.</strong><br>
as any 같은 타입 단언 선언 시 타입 체커는 선언에 따라 타입을 판단하게 됨.<br>
따라 타입 체크를 하지 못하므로 에러 발생 가능성 높아짐</li> <li><strong>any는 함수 시그니처를 무시해버린다.</strong><br>
함수 작성 시에는 시그니처를 명시해야 함.<br>
호출하는 쪽은 약속된 타입의 입력을 제공하고 함수는 약속된 타입의 출력을 반환함<br>
하지만 any 타입을 사용하면 시그니처를 무시하게 되어 약속을 어길 수 있게 됨<br>
JS에서는 종종 암시적으로 타입이 변환되기 때문에 이런 경우 문제가 발생할 수 있음</li> <li><strong>any 타입에는 언어 서비스가 적용되지 않는다.</strong><br>
TS 언어 서비스는 기본적으로 자동완성 기능과 적절한 도움말을 제공함<br>
하지만 any 타입인 심벌을 사용할 경우 아무 도움을 받지 못함</li> <li><strong>any 타입은 코드 리팩터링 때 버그를 감춘다.</strong><br>
any를 사용하면 타입 체커를 통과함에도 불구하고 런타임에는 오류가 발생할 수 있음<br>
any가 아니라 구체적인 타입을 사용했다면 타입 체커가 오류를 발견했을 것</li> <li><strong>any는 타입 설계를 감춰버린다.</strong><br>
애플리케이션의 상태 등의 객체의 구조는 복잡하기 떄문에<br>
많은 속성의 타입을 하나하나 작성해야 하는데,<br>
any 타입을 사용하면 간단히 끝나게 됨.<br>
하지만 상태 객체의 설계를 감춰버리기 때문에 타입 설계가 불분명해짐<br>
즉, 설계가 잘 되었는지 코드를 검토하기 어려워짐.<br>
따라 깔끔하고 명료한 코드 작성을 위해 설계가 명확히 보이도록<br>
타입을 제대로 작성하는 것을 권장함</li> <li><strong>any는 타입시스템의 신뢰도를 떨어뜨린다.</strong><br>
보통 실수를 해도 타입 체커가 실수를 잡아주기 때문에 코드의 신뢰도가 높아짐<br>
any 타입을 쓰지 않으면 런타임에 발견될 오류를 미리 잡을 수 있고 신뢰도를 높일 수 있음<br>
TS는 개발자의 삶을 편하게 하는데 목적이 있지만,<br>
코드 내 존재하는 수많은 any 타입으로 JS보다 일을 더 어렵게 만들기도 함</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.2d66ab00.js" defer></script><script src="/TIL/assets/js/2.5e3b8e3c.js" defer></script><script src="/TIL/assets/js/123.7277c315.js" defer></script>
  </body>
</html>
