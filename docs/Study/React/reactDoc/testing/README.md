---
title : 테스팅  
date : 2021.06.16
---

# React Testing

## React Component Test
테스트란 애플리케이션이 요구 사항에 적합하게 작동하는지를 검증하는 과정으로,  
리액트 컴포넌트 테스트 방법은 2가지로 구분 할 수 있다.  
리액트 어플리케이션은 함수 사용보단 컴포넌트를 사용하기 떄문에 다른 접근 방식.  
통합 테스트를 주로 작성. 단위 테스트는 많이 작성하지 않는 방식.  
대부분의 테스트는 컴포넌트 전반에 걸쳐 적용할 수 있는 공통 패턴을 따릅  



1. 컴포넌트 트리 렌더링 : 간략화된 테스팅 환경 및 출력값이 확실한 경우
2. 완성된 앱에서의 테스트 : 현실적 브라우저 환경 ('E2E', 'End-to-End 테스트'로 알려짐)

### 단위 테스트
* 애플리케이션의 일부를 독립적으로 테스트하는 것 (ex. 컴포넌트)
* 메서드를 테스트하는 또 다른 메서드이며, 하나의 유닛 테스트는 하나의 메서드의 특정 루틴을 검사함.
* 모듈 및 애플리케이션 안에 있는 개별적 코드 단위가 의도하는대로 동작하는지를 확인

### 통합 테스트
* 서로 다른 부분이 모여 특정 상황에서 잘 작동하는지 확인. (ex. 컴포넌트들이 모여 잘 동작하는가?)
* (ex. 특정 컴포넌트의 필수 props가 자손 컴포넌트에 제대로 전달되었는지 확인)

### 전체 테스트
* 애플리케이션을 브라우저 환경에서 테스트
* (ex. form에 데이터 입력 후 백엔드 서버로 form 제출하는 전체 과정 테스트)


다양한 테스팅 도구들 : Mocha, Chai, Sinon, Enzyme, Jest 등.
create-react-app 애플리케이션엔 기본 테스트 도구로 Jest 포함되어 있음.  
필요하다면 수동으로 Sinon, Enzyme를 추가 가능함.

테스팅 도구를 선택 시 생각해볼 것.  
* 반복작업 속도 VS 현실적인 개발 환경 : 
  몇몇 도구들은 매우 빠른 피드백 루프를 제공하지만 브라우저 동작을 정확히 구현하지 않음.  
  다른 도구들은 브라우저에서 사용되지만 속도를 저하시키고 통합 서버 환경에서 더 연약함.  
* 얼마나 다양한 방법을 통해 실제 테스트 화노경의 동작을 테스트할 것인가? : 
  컴포넌트 내 유닛 테스트와 통합 테스트의 차이는 명확하지 않음.  
  
각 제품과 팀에 따라 효율적인 테스트 도구가 다름.  

추천 도구  
* Jest : Javascript 테스트 러너.  
DOM에 접근하게 하는 jsdom을 통해
* React Testing Library : 

## testing pyramid
단위 테스트 작성 -> 통합 테스트 작성 -> 전체 테스트 작성  


## TDD (테스트 주도 개발)
테스트 먼저 작성 후 -> 컴포넌트 작성

## Jest



> ### Reference
> * [테스팅 개요](https://ko.reactjs.org/docs/testing.html)
> * [React에서 Test하기 @danbii](https://velog.io/@danbii/React%EC%97%90%EC%84%9C-Test%ED%95%98%EA%B8%B0)
> * [How to test React Components](https://www.robinwieruch.de/react-testing-tutorial)
